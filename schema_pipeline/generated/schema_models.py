from __future__ import annotations
from datetime import date, datetime
from typing import Any, Dict, List, Literal, Optional
from pydantic import AnyUrl, BaseModel, EmailStr, Field

"""Autogenerated CRM schema models. Do not edit by hand."""

class Client(BaseModel):
    """Accounts and prospects tracked by the revenue team."""
    client_id: str = Field(...)
    name: str = Field(...)
    industry: Optional[str] = Field(None)
    email: Optional[EmailStr] = Field(None)
    phone: Optional[str] = Field(None)
    address: Optional[str] = Field(None)
    status: Optional[Literal["Active", "Prospect", "Inactive"]] = Field(None)
    created_date: Optional[datetime] = Field(None)
    owner: Optional[str] = Field(None)

class Contact(BaseModel):
    """People associated with a client who can be engaged."""
    contact_id: str = Field(...)
    first_name: str = Field(...)
    last_name: str = Field(...)
    title: Optional[str] = Field(None)
    email: Optional[EmailStr] = Field(None)
    phone: Optional[str] = Field(None)
    client_id: str = Field(...)
    notes: Optional[str] = Field(None)

class Opportunity(BaseModel):
    """Sales pipeline records tied to a client."""
    opportunity_id: str = Field(...)
    name: str = Field(...)
    client_id: str = Field(...)
    stage: Optional[Literal["Prospecting", "Qualification", "Proposal", "Negotiation", "Closed-Won", "Closed-Lost"]] = Field(None)
    amount: Optional[float] = Field(None)
    close_date: Optional[date] = Field(None)
    owner: Optional[str] = Field(None)
    probability: Optional[float] = Field(None)
    notes: Optional[str] = Field(None)

class Quote(BaseModel):
    """Pricing proposals generated for a given opportunity."""
    quote_id: str = Field(...)
    opportunity_id: str = Field(...)
    version: Optional[str] = Field(None)
    amount: Optional[float] = Field(None)
    status: Optional[Literal["Draft", "Sent", "Approved", "Rejected", "Canceled"]] = Field(None)
    valid_until: Optional[date] = Field(None)
    created_date: Optional[datetime] = Field(None)
    quote_prefix: Optional[str] = Field(None)

class Contract(BaseModel):
    """Executed agreements for a client or opportunity."""
    contract_id: str = Field(...)
    client_id: str = Field(...)
    opportunity_id: Optional[str] = Field(None)
    start_date: Optional[date] = Field(None)
    end_date: Optional[date] = Field(None)
    value: Optional[float] = Field(None)
    status: Optional[Literal["Active", "Pending", "Expired"]] = Field(None)
    document_url: Optional[AnyUrl] = Field(None)

class Company(BaseModel):
    """Reference companies (partners/vendors/competitors)."""
    company_id: str = Field(...)
    name: str = Field(...)
    type: Optional[Literal["Partner", "Vendor", "Competitor"]] = Field(None)
    industry: Optional[str] = Field(None)
    address: Optional[str] = Field(None)
    contacts: Optional[List[str]] = Field(None)

class Document(BaseModel):
    """Files uploaded against another CRM record."""
    document_id: str = Field(...)
    entity_type: Literal["Opportunity", "Contract", "Quote", "Client"] = Field(...)
    entity_id: str = Field(...)
    file_name: Optional[str] = Field(None)
    uploaded_by: Optional[str] = Field(None)
    uploaded_at: Optional[datetime] = Field(None)
    file_url: Optional[AnyUrl] = Field(None)

class Note(BaseModel):
    """Internal collaboration notes linked to CRM records."""
    note_id: str = Field(...)
    entity_type: Literal["Opportunity", "Client", "Contact", "Quote", "Contract"] = Field(...)
    entity_id: str = Field(...)
    content: str = Field(...)
    created_by: Optional[str] = Field(None)
    created_at: Optional[datetime] = Field(None)

TABLE_SCHEMAS: Dict[str, Any] = {'Client': {'description': 'Accounts and prospects tracked by the revenue team.', 'required': ['client_id', 'name'], 'properties': {'client_id': {'type': 'string'}, 'name': {'type': 'string'}, 'industry': {'type': 'string'}, 'email': {'type': 'string', 'format': 'email'}, 'phone': {'type': 'string'}, 'address': {'type': 'string'}, 'status': {'type': 'string', 'enum': ['Active', 'Prospect', 'Inactive']}, 'created_date': {'type': 'string', 'format': 'date-time'}, 'owner': {'type': 'string'}}}, 'Contact': {'description': 'People associated with a client who can be engaged.', 'required': ['contact_id', 'first_name', 'last_name', 'client_id'], 'properties': {'contact_id': {'type': 'string'}, 'first_name': {'type': 'string'}, 'last_name': {'type': 'string'}, 'title': {'type': 'string'}, 'email': {'type': 'string', 'format': 'email'}, 'phone': {'type': 'string'}, 'client_id': {'type': 'string'}, 'notes': {'type': 'string'}}}, 'Opportunity': {'description': 'Sales pipeline records tied to a client.', 'required': ['opportunity_id', 'name', 'client_id'], 'properties': {'opportunity_id': {'type': 'string'}, 'name': {'type': 'string'}, 'client_id': {'type': 'string'}, 'stage': {'type': 'string', 'enum': ['Prospecting', 'Qualification', 'Proposal', 'Negotiation', 'Closed-Won', 'Closed-Lost']}, 'amount': {'type': 'number'}, 'close_date': {'type': 'string', 'format': 'date'}, 'owner': {'type': 'string'}, 'probability': {'type': 'number', 'minimum': 0, 'maximum': 100}, 'notes': {'type': 'string'}}}, 'Quote': {'description': 'Pricing proposals generated for a given opportunity.', 'required': ['quote_id', 'opportunity_id'], 'properties': {'quote_id': {'type': 'string'}, 'opportunity_id': {'type': 'string'}, 'version': {'type': 'string'}, 'amount': {'type': 'number'}, 'status': {'type': 'string', 'enum': ['Draft', 'Sent', 'Approved', 'Rejected', 'Canceled']}, 'valid_until': {'type': 'string', 'format': 'date'}, 'created_date': {'type': 'string', 'format': 'date-time'}, 'quote_prefix': {'type': 'string'}}}, 'Contract': {'description': 'Executed agreements for a client or opportunity.', 'required': ['contract_id', 'client_id'], 'properties': {'contract_id': {'type': 'string'}, 'client_id': {'type': 'string'}, 'opportunity_id': {'type': 'string'}, 'start_date': {'type': 'string', 'format': 'date'}, 'end_date': {'type': 'string', 'format': 'date'}, 'value': {'type': 'number'}, 'status': {'type': 'string', 'enum': ['Active', 'Pending', 'Expired']}, 'document_url': {'type': 'string', 'format': 'uri'}}}, 'Company': {'description': 'Reference companies (partners/vendors/competitors).', 'required': ['company_id', 'name'], 'properties': {'company_id': {'type': 'string'}, 'name': {'type': 'string'}, 'type': {'type': 'string', 'enum': ['Partner', 'Vendor', 'Competitor']}, 'industry': {'type': 'string'}, 'address': {'type': 'string'}, 'contacts': {'type': 'array', 'items': {'type': 'string'}}}}, 'Document': {'description': 'Files uploaded against another CRM record.', 'required': ['document_id', 'entity_type', 'entity_id'], 'properties': {'document_id': {'type': 'string'}, 'entity_type': {'type': 'string', 'enum': ['Opportunity', 'Contract', 'Quote', 'Client']}, 'entity_id': {'type': 'string'}, 'file_name': {'type': 'string'}, 'uploaded_by': {'type': 'string'}, 'uploaded_at': {'type': 'string', 'format': 'date-time'}, 'file_url': {'type': 'string', 'format': 'uri'}}}, 'Note': {'description': 'Internal collaboration notes linked to CRM records.', 'required': ['note_id', 'entity_type', 'entity_id', 'content'], 'properties': {'note_id': {'type': 'string'}, 'entity_type': {'type': 'string', 'enum': ['Opportunity', 'Client', 'Contact', 'Quote', 'Contract']}, 'entity_id': {'type': 'string'}, 'content': {'type': 'string'}, 'created_by': {'type': 'string'}, 'created_at': {'type': 'string', 'format': 'date-time'}}}}
